<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[alextren.dev]]></title><description><![CDATA[Personal website]]></description><link>https://alextren.dev</link><generator>RSS for Node</generator><lastBuildDate>Sun, 26 May 2019 17:57:44 GMT</lastBuildDate><item><title><![CDATA[Emploi du temps Centrale]]></title><description><![CDATA[BackgroundOur school uses a software called Celcat to manage and plan courses. While it seems rather reliable, it looks really bad and is…]]></description><link>https://alextren.dev/projects/edt-ecn/</link><guid isPermaLink="false">https://alextren.dev/projects/edt-ecn/</guid><content:encoded>&lt;h4&gt;Background&lt;/h4&gt;
&lt;p&gt;Our school uses a software called Celcat to manage and plan courses. While it seems rather reliable, it looks &lt;em&gt;really bad&lt;/em&gt; and is barely usable on mobile. Fortunately, calendars are exposed as (styled) XML files, which makes it easy to parse them.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0385ef5dda7f232a0571e5cb732ae8a9/fbec4/celcat.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 563px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 216.34103019538188%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,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&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;celcat&quot;
        title=&quot;&quot;
        src=&quot;/static/0385ef5dda7f232a0571e5cb732ae8a9/fbec4/celcat.png&quot;
        srcset=&quot;/static/0385ef5dda7f232a0571e5cb732ae8a9/cf440/celcat.png 148w,
/static/0385ef5dda7f232a0571e5cb732ae8a9/d2d38/celcat.png 295w,
/static/0385ef5dda7f232a0571e5cb732ae8a9/fbec4/celcat.png 563w&quot;
        sizes=&quot;(max-width: 563px) 100vw, 563px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;This is exactly what this app does: an Express app fetches the XML, parses and caches the result. The React app does the rest!&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9dac1a3cfa089dfdebb17c3c19d6c5db/fbec4/mine.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 563px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 216.34103019538188%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAYAAAB4pah1AAAACXBIWXMAAAsSAAALEgHS3X78AAAExklEQVRIx62W+1NUZRjH9y+pmZqyi12cmslSAXEmCAotugxo0pQzjdoQaYGAJngBQZCQBawJp35zGtJJAS9Iy30XXLk52tQPTaLEdWFv5+yePXv22/O8h8NlQWKBHz77vOd9n/d7nuc9z/vua4p+tx5bk+sR+34DuL2NbMx7eh+3Y5MbxBg/87hBDBFFftt2XEZubBXyt5qR+M5FmDYmXEbyZ01IS2/B64lXkFNgR9LuRmxPa8TerA58mtGK1L0WJO66gc3b67ApqQ6biS1JV7BxRwPi37wA16ufA6/twScxP8IUn3IVCalXkbjzGridlHYdCdR+i/re3nVNYDzz+FziUmj8ozrkx5tRGFeO5A8uwTThcGHC4cb4hEswNu6c09YJ7w/n/pSMf6Z8GCUdUyCgwOeToZLVgqogKAggFArC6ZzE6OgwPB6aPD6GoYcP4PW6xRj7sD/IQtXnmyRJoklOsPX7/SQ+Cz9LkkwCEmSfT/h4vV7Isg++MF/dX4FJVTmaINgGAoFFMcbYLuXHmHz0Zn4rW0VRVo1I2eVyiXS4g9NcKUJwbkrKKhEpzxNci5R5/RwOB62jZyZlZZpIU+YSNHmoJPxeJ6x/S0ipDSG1VsNOwrAf/7o0uy/qvvvrgpjykqDPT0UJBfV/KHiuMoSon4A3aoBosq/8ADxRvjRPngUeKyPf7zWMuvz0lalIgz4X6u9K2HAO+PAXDckXNBINkVMIL1YvzUvEs5VA1HkNYyxoRPjbPRV7aj0Y6G7FX32d+OKSG49TBDxhfdWjeYF4xgxsMQT9CguqaPhTRXRNAMU3RlDaOIq4nwN4qgJ4vgq0FI+Gx58mv02UkUjZS3tVlV24fs+LdRWaeNs6FjJr2FAdxMtVS8M+681BbD2v6hFy2Uw6JjBCR8/AQ5mQcIcYeCChj+hfBr2DEu4OyfrhYBR2UKXUQ6tD7BRZljE1NQUPH0t0BPHRtFLm7WVBUIOqabqNmKAeIa/h8MgInJOTkCYd8EyMw0trunwcuqW5IkIfpSxTY2igD2352Wg/cYQ4jPbjTC7ajuVQf44YE4Q/U7v1aBasJSch0clv4kMgRJX4b38PDRzCrfJi2E6fQNeZQtgrStBddgrd3xXpfaUFop+fZ9vFsBYdQ0fBUYpyUhfUSHB4oFe8qbMwTziwgLX4ODpP5U3bfNjIcr+NoukkAfbnIJpzD+qC9HFNMp3Ubkr7vr1bpNBTWQb72dOwskBJgRDjNlsWYjg6FmzOOYCWw1/DcigD7Se/1QX5HAtShEO3b8FaUQpbSzO62lphqy5H08F9sNAkS/ZXRIaYaGCICUEa7zAEZ9aw147OsiJ0NzUSN2GjSJtpYsuRb2YmhsOpLhA0Uh7sscOSmY42cmrNPYBmcpqZFIYhNDfC2ZTp71MN8VfuFQPNLBIWwf+xaMrDd/rF2iyWUkSCskzXCxIVKU+nGSkLUg5oIQxRyuLL8UeIiEwxr6Nwug4VxQ9MF/ZNLpOsdPyeuXwsWV9See1HW142CdJO8bjdGBkbxyCtYZf5DLqoXCLFRlv0ds05SKQlLktuasgidQ0KHUMrZcFVJECnzmoxzb+b+Fd/t+Ef46K02qvczF+AIboWzItwTa5zaxWZwX+xdFsinbgvuwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;mine&quot;
        title=&quot;&quot;
        src=&quot;/static/9dac1a3cfa089dfdebb17c3c19d6c5db/fbec4/mine.png&quot;
        srcset=&quot;/static/9dac1a3cfa089dfdebb17c3c19d6c5db/cf440/mine.png 148w,
/static/9dac1a3cfa089dfdebb17c3c19d6c5db/d2d38/mine.png 295w,
/static/9dac1a3cfa089dfdebb17c3c19d6c5db/fbec4/mine.png 563w&quot;
        sizes=&quot;(max-width: 563px) 100vw, 563px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h4&gt;Challenges&lt;/h4&gt;
&lt;p&gt;This is not a very complicated project, however it proved useful as a playground to test things such as server-side rendering and progressive web apps.&lt;/p&gt;
&lt;h4&gt;Features&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;calendar API + React app&lt;/li&gt;
&lt;li&gt;server caching&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;calendar customization&lt;/strong&gt;: specific subjects (optional courses for instance) can be hidden&lt;/li&gt;
&lt;li&gt;offline access using local storage and &lt;strong&gt;server-side rendering&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;mobile friendly&lt;/strong&gt;: fully responsive, can be installed as a PWA&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Silex Autowiring]]></title><description><![CDATA[BackgroundI was involved for a year in the Junior Entreprise Centrale Nantes Études (CNE) as a “Chief Information Officer” for lack of a…]]></description><link>https://alextren.dev/projects/silex-autowiring/</link><guid isPermaLink="false">https://alextren.dev/projects/silex-autowiring/</guid><content:encoded>&lt;h4&gt;Background&lt;/h4&gt;
&lt;p&gt;I was involved for a year in the Junior Entreprise &lt;a href=&quot;https://centralenantesetudes.fr/&quot;&gt;Centrale Nantes Études&lt;/a&gt; (CNE) as a “Chief Information Officer” for lack of a better word (it sounds awfully pompous). At CNE, we built an API to connect all the services we use (Slack, MediaWiki, Owncloud, etc). Our goals where to ease authentication when possible, and automate some tasks related to our processes. This API is based on Silex.&lt;/p&gt;
&lt;p&gt;Silex is a PHP framework based on Symfony. It uses a dependency injection library called Pimple. Pimple is powerful but fairly simple, and does not allow automatically injecting the “right” dependency in your services, like you would do using &lt;code class=&quot;language-text&quot;&gt;@Autowired&lt;/code&gt; with Spring for instance.&lt;/p&gt;
&lt;p&gt;Here is how a service is created.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;php&quot;&gt;&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;some_service&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Service&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;What my library allows is to do this instead (which is not completely equivalent).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;php&quot;&gt;&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;autowiring&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;wire&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Service&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This project is mostly dead, but the code is still available on Github.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Simple (and fancy) internationalization in React]]></title><description><![CDATA[As part of the redesign of their website, Centrale Nantes decided to make their website english-first — even though most of our courses are…]]></description><link>https://alextren.dev/blog/simple-i18n-react/</link><guid isPermaLink="false">https://alextren.dev/blog/simple-i18n-react/</guid><pubDate>Sat, 25 May 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As part of the redesign of their website, &lt;a href=&quot;https://ec-nantes.fr&quot;&gt;Centrale Nantes&lt;/a&gt; decided to make their website english-first — even though most of our courses are taught in French. I had therefore no choice but to follow along and make sur my &lt;a href=&quot;https://edt-ecn.herokuapp.com&quot;&gt;timetable&lt;/a&gt; was properly translated! Fortunately, there is not much to translate.&lt;/p&gt;
&lt;p&gt;However, I have chosen not to go with any i18n library for React. They all seemed all too complicated for what I wanted to do. Additionally, I wanted to avoid modifying my markup all that much. For instance, I wanted to avoid injecting an extra prop everywhere, or play with context too explicitly. &lt;strong&gt;Here is what I ended up doing.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I went from&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;Sélectionner des calendriers&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;3 calendriers sélectionnés&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;T.SelectCalendars&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;T.NSelectedCalendars&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;where &lt;code class=&quot;language-text&quot;&gt;SelectCalendars&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;NSelectedCalendars&lt;/code&gt; are translations keys — mapping to either strings, or functions.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; n &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;s&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    fr&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// more keys here&lt;/span&gt;
        SelectCalendars&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Sélectionner des calendriers&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token function-variable function&quot;&gt;NSelectedCalendars&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;n&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; calendrier&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; sélectionné&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    en&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// more keys here&lt;/span&gt;
        SelectCalendars&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Select calendars&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token function-variable function&quot;&gt;NSelectedCalendars&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;n&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; selected calendar&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;How does it work ?&lt;/h3&gt;
&lt;p&gt;All the &lt;code class=&quot;language-text&quot;&gt;T.*&lt;/code&gt; components have access to some context holding the translations from the file above. From there, it is easy enough to create a &lt;code class=&quot;language-text&quot;&gt;Consumer&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Translation&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;SelectCalendars&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;but this is not &lt;em&gt;sexy&lt;/em&gt; enough (although handy when the translation key is not known ahead of time, of course!). &lt;/p&gt;
&lt;p&gt;The trick here is to use a &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy&quot;&gt;ES2015 Proxy&lt;/a&gt;. A proxy is created using two arguments, a &lt;em&gt;target&lt;/em&gt; object to decorate and a &lt;em&gt;handler&lt;/em&gt; object. In my case, the &lt;em&gt;handler&lt;/em&gt; was an object with a &lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt; key. A proxy defined as such behaves similarly to a Python class which defines &lt;a href=&quot;https://docs.python.org/3/reference/datamodel.html#object.__getattr__&quot;&gt;the &lt;code class=&quot;language-text&quot;&gt;__getattr__&lt;/code&gt; method&lt;/a&gt; : that is, attempts to access members of the &lt;em&gt;target&lt;/em&gt; object (say, &lt;code class=&quot;language-text&quot;&gt;target.foo&lt;/code&gt;) will in turn call the function at &lt;code class=&quot;language-text&quot;&gt;handler.get&lt;/code&gt;. The latter should be a function taking the targeted object as its first argument and the key as its second argument.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Proxy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// do something&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This explains the magical &lt;code class=&quot;language-text&quot;&gt;T.*&lt;/code&gt; components! When React attempts to create some &lt;code class=&quot;language-text&quot;&gt;T.Key&lt;/code&gt; component, our function is called with that particular key. All we need to do is to create the correct &lt;code class=&quot;language-text&quot;&gt;Translation&lt;/code&gt; component. &lt;/p&gt;
&lt;p&gt;Alternatively, one could simply create the &lt;code class=&quot;language-text&quot;&gt;T&lt;/code&gt; object by iterating over all the keys in our translation object, creating the matching components ahead of time, but this is far from ideal (we probably don’t need to have all those components in memory!). Additionally, this lets us gracefully handle an attempt to add an unknown translation. In my case, whenever some key has not been translated, a warning is logged to the console and the &lt;code class=&quot;language-text&quot;&gt;T.*&lt;/code&gt; component falls back to just displaying the key.&lt;/p&gt;
&lt;h3&gt;Further reading&lt;/h3&gt;
&lt;p&gt;The full code for the &lt;code class=&quot;language-text&quot;&gt;T&lt;/code&gt; object is in the repository. Note that a proxy can do much more than that, as can be seen on MDN! It is moreover &lt;a href=&quot;https://caniuse.com/#feat=proxy&quot;&gt;rather well supported&lt;/a&gt;.&lt;/p&gt;</content:encoded></item></channel></rss>