{"data":{"site":{"siteMetadata":{"title":"alextren.dev","author":"Alexandre Trendel"}},"markdownRemark":{"id":"4d1275d4-0a4b-590c-8dd6-3fcfdc7cc357","excerpt":"As part of the redesign of their website, Centrale Nantes decided to make their website english-first — even though most of our courses are taught in French. I…","html":"<p>As part of the redesign of their website, <a href=\"https://ec-nantes.fr\">Centrale Nantes</a> decided to make their website english-first — even though most of our courses are taught in French. I had therefore no choice but to follow along and make sur my <a href=\"https://edt-ecn.herokuapp.com\">timetable</a> was properly translated! Fortunately, there is not much to translate.</p>\n<p>However, I have chosen not to go with any i18n library for React. They all seemed all too complicated for what I wanted to do. Additionally, I wanted to avoid modifying my markup all that much. For instance, I wanted to avoid injecting an extra prop everywhere, or play with context too explicitly. Here is what I ended up doing.</p>\n<p>I went from</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">SomeButton</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>Button label<span class=\"token operator\">=</span><span class=\"token string\">\"Sélectionner des calendriers\"</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">SomeComponent</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>n<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> calendrier(s) sélectionné(s)</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>to</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx harmony\"><pre class=\"language-jsx harmony\"><code class=\"language-jsx harmony\">function SomeButton(props) {\n  return &lt;Button label={&lt;T.SelectCalendars/&gt;}/&gt;;\n}\n\nfunction SomeComponent({n}) {\n  return &lt;span&gt;&lt;T.NSelectedCalendars n={n}/&gt;&lt;/span&gt;;\n}</code></pre></div>\n<p>where <code class=\"language-text\">SelectCalendars</code> and <code class=\"language-text\">NSelectedCalendars</code> are translations keys :</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> <span class=\"token function-variable function\">s</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">n</span> <span class=\"token operator\">=></span> n <span class=\"token operator\">></span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    fr<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// more keys here</span>\n        SelectCalendars<span class=\"token punctuation\">:</span> <span class=\"token string\">'Sélectionner des calendriers'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">NSelectedCalendars</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>n<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> calendrier</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">s</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> sélectionné</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">s</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    en<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// more keys here</span>\n        SelectCalendars<span class=\"token punctuation\">:</span> <span class=\"token string\">'Select calendars'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">NSelectedCalendars</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>n<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> selected calendar</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">s</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"title":"Simple (and fancy) internationalization in React","date":"Invalid date","description":null,"tags":["edt-ecn","ecn","javascript","react"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/simple-i18n-react/","previous":{"fields":{"slug":"/hi-folks/"},"frontmatter":{"title":"New Beginnings"}},"next":null}}